<!--

TODO

Comments - Modify Deals Mongoose and Upsert comments
Spotlight Box


-->

<section data-ng-controller="HomeController">

  <div class="col-sm-12" id="below-navbar">

    <ul class="nav nav-tabs img-rounded" id="hottest-tabs">
      <li role="presentation" class="active"><a href="#" ng-click="orderByField='votes'; reverseSort = !reverseSort"><i
        class="glyphicon glyphicon-thumbs-up"></i> Hottest </a>
      </li>

      <li role="presentation"><a href="#" ng-click="orderByField='created'; reverseSort = !reverseSort"><i
        class="glyphicon glyphicon-arrow-up"></i> Newest </a></li>

      <li class="dropdown" dropdown>
        <a class="dropdown-toggle user-header-dropdown-toggle" dropdown-toggle role="button">
          <i class="glyphicon glyphicon-star"></i> Retailers <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li role="presentation"><a href="#" ng-click="filterBy=''">All</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Littlewoods'">LittleWoods</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Argos'">Argos</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='ScrewFix'">ScrewFix</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Amazon'">Amazon</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Penneys'">Penneys</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Tesco'">Tesco</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Lidl'">Lidl</a></li>
          <li role="presentation"><a href="#" ng-click="filterBy='Aldi'">Aldi</a></li>
        </ul>
      </li>


    </ul>


    <ul class="nav nav-tabs " id="submit-tabs">
      <!--<li role="presentation"><input type="text" ng-model="search" class="form-control" placeholder="Search"></li>-->
      <li role="presentation"><a href="/deals/create"><i class="glyphicon glyphicon-plus-sign"></i> Submit </a></li>
    </ul>


  </div>





  <section data-ng-controller="DealsController" data-ng-init="find()">

    <div class="col-lg-9 main-deals">

      <!--Deals Array Start-->



      <!--Deals Array End-->

      <!--Deals Array Start-->

      <div class="list-group-home-deals">





        <!-------      START OF DEAL LIST      -------->

        <!--<div dir-paginate="deal in deals|orderBy:orderByField:reverseSort|filter:{retailer:filterBy}|itemsPerPage:10"-->
             <!--class="list-group-item">-->

         <!--AAA-->

        <!--</div>-->

        <div dir-paginate="deal in deals|orderBy:orderByField:reverseSort|filter:{retailer:filterBy}|itemsPerPage:10" class="list-group-item">


          <div class="col-lg-12 no-padding-left">

            <div class="col-lg-2 right-box">

              <div class="col-md-12 deal-votes">

                <h1>{{deal.votes}}</h1>

              </div>

              <div class="col-md-12 deal-link link-button-home">

                <!--<button class="btn btn-default "><i class="glyphicon glyphicon-thumbs-up"></i> Like</button>-->

                <div class="btn-group-vertical hot-cold-buttons" role="group" aria-label="Vertical button group">

                  <button ng-hide="authentication.user" ui-sref="authentication.signup" type="button" class="btn btn-danger vote-up-button"><i class="glyphicon glyphicon-arrow-up"></i> Hot</button>
                  <button ng-hide="authentication.user" ui-sref="authentication.signup" type="button" class="btn btn-default"><i class="glyphicon glyphicon-arrow-down  vote-down-button"></i> Cold</button>

                  <button ng-show="authentication.user" ng-click="upVoteHome(deal)" type="button" class="btn btn-danger vote-up-button"><i class="glyphicon glyphicon-arrow-up"></i> Hot</button>
                  <button ng-show="authentication.user" ng-click="downVoteHome(deal)" type="button" class="btn btn-default"><i class="glyphicon glyphicon-arrow-down  vote-down-button"></i> Cold</button>

                </div>

              </div>


            </div>

            <div class="col-lg-8 middle-box">


              <div class="col-lg-12 middle-title">

                <!--<h4 href="#!/deals/{{deal._id}}" ng-bind="deal.title +' (&euro;'+  deal.price +' @ '+  deal.retailer+')'"></h4>-->
                <h4><a ng-href="/deals/{{deal._id}}"
                       ng-bind="deal.title +' (&euro;'+  deal.price +' @ '+  deal.retailer+')'"></a>
                </h4>

              </div>

              <div class="col-lg-12 single-middle-product-details-home">

                <!--<p>{{deal.details}}</p>-->
                <text-angular ta-toolbar="[[]]" ng-bind-html="deal.details"></text-angular>

              </div>

              <div class="col-lg-12 middle-post-details">

                <div class="col-lg-6 middle-posted-by">Posted By  <span class="username" data-ng-bind="deal.user.displayName"></span></div>
                <div class="col-lg-6 middle-time-of-posting">Posted On <span
                  data-ng-bind="deal.created | date:'mediumDate'"></span></div>

              </div>


              <!--<small class="list-group-item-text">-->
              <!--Posted on-->
              <!--<span data-ng-bind="deal.created | date:'medium'"></span>-->
              <!--by-->
              <!--<span data-ng-bind="deal.user.displayName"></span>-->
              <!--</small>-->


            </div>

            <div class="col-lg-2" id="right-box">

              <div class="col-md-12 deal-image thumbnail centred-image"><img src="{{deal.image}}"/>

              </div>

              <a data-ng-href="/deals/{{deal._id}}" class="col-md-12 deal-link link-button">
                <button class="btn btn-success"><i class="glyphicon glyphicon-euro"></i> Save </button>
              </a>


            </div>

          </div>


        </div>


        <!-------      END OF DEAL LIST      -------->


      </div>

      <!--Deals Array End-->


      <div class="alert alert-warning text-center" data-ng-hide="!deals.$resolved || deals.length">
        No Deals yet, why don't you <a href="/#!/deals/create">create one</a>?
      </div>

      <div class="text-center">
        <dir-pagination-controls></dir-pagination-controls>
      </div>

      <!--Deals Array End-->




    </div>

    <div class="col-lg-3 right-column">

      <div class="col-lg-12 right-column-inner-one">


      </div>

      <div class="col-lg-12 right-column-inner-two">


      </div>

      <div class="col-lg-12 right-column-inner-three">


      </div>


    </div>


    <div class="col-lg-9 ">


    </div>


  </section>

</section>
