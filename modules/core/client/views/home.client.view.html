<section data-ng-controller="HomeController">

  <div class="col-sm-12" id="below-navbar">

    <ul class="nav nav-tabs img-rounded" id="hottest-tabs">

      <li role="presentation" ng-class="{ 'active' : hottestsorted}"><a href="#"
                                                                        ng-click="orderByField='votes'; reverseSort = !reverseSort; toggleClass(1);"><i>
        <!--class="glyphicon glyphicon-thumbs-up"--> </i> Hottest </a>
      </li>

      <li role="presentation " ng-class="{ 'active' : newestsorted}"><a href="#"
                                                                        ng-click="orderByField='created'; reverseSort = !reverseSort; toggleClass(2);"><i>
        <!--class="glyphicon glyphicon-arrow-up" --> </i> Newest </a>
      </li>


      <li class="dropdown" dropdown>
        <a class="dropdown-toggle user-header-dropdown-toggle" dropdown-toggle role="button"> <i>
          <!--class="glyphicon glyphicon-search"--> </i> {{selectedLogo}} <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">

          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy=''; setFilterText('All') ; setLogo('All')">All</a></li>
          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy='Littlewoods'; setFilterText('Littlewoods') ; setLogo('Littlewoods')">LittleWoods</a>
          </li>
          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy='Argos'; setFilterText('Argos') ; setLogo('Argos')">Argos</a>
          </li>
          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy='ScrewFix'; setFilterText('Screwfix')">ScrewFix</a></li>
          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy='Amazon'; setFilterText('Amazon')">Amazon</a></li>
          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy='Penneys'; setFilterText('Penneys')">Penneys</a></li>
          <li role="presentation"><a href="#" ng-selected="selected"
                                     ng-click="filterBy='Tesco'; setFilterText('Tesco')">Tesco</a></li>
          <li role="presentation"><a href="#" ng-selected="selected" ng-click="filterBy='Lidl'; setFilterText('Lidl')">Lidl</a>
          </li>
          <li role="presentation"><a href="#" ng-selected="selected" ng-click="filterBy='Aldi'; setFilterText('Aldi')">Aldi</a>
          </li>

        </ul>
      </li>

      <!--<li role="presentation "><a><i></i><img src="{{brandLogo}}" class="brand-logo-thumbnail" alt="SaveMe.ie"/></a>-->
      <!--</li>-->


    </ul>


    <ul class="nav nav-tabs " id="submit-tabs">
      <!--<li role="presentation"><input type="text" ng-model="search" class="form-control" placeholder="Search"></li>-->

      <!--<li role="presentation"><a href="/savings/create" ng-click="setUserImage()"><i class="glyphicon glyphicon-plus-sign"></i> Submit </a></li>-->

      <!-- If logged In-->
      <li role="presentation"><a href="/savings/create" ng-click="setUserImage()"><i
        class="glyphicon glyphicon-plus-sign"></i> Submit </a></li>


    </ul>


  </div>


  <section data-ng-controller="SavingsController" data-ng-init="find()">

    <div class="col-lg-9 main-deals">


      <!--Deals Array Start-->

      <div class="list-group-home-deals">

        <div class="spotlight-deal">

          <h4>Todays Top 6</h4>

          <div class="col-md-12 spotlight-deal-inner">

            <div ng-repeat="saving in savings |  orderBy: '-votes' | limitTo:6| lessThan: {'created.$date':24}"
                 class="col-lg-2 no-padding-spotlight text-center">

              <div class=" thumbnail-spotlight thumbnail centred-image spotlight-text">
                <a ng-href="/savings/{{saving._id}}"><img src="{{saving.image}}"/></a><br>
                <a class="text-center " ng-href="/savings/{{saving._id}}">{{saving.title}}(&euro;{{saving.price}} @
                  {{saving.retailer}}</a>
              </div>

            </div>

          </div>

        </div>


        <!-------      START OF DEAL LIST      -------->

        <!--<div dir-paginate="saving in savings|orderBy:orderByField:reverseSort|filter:{retailer:filterBy}|itemsPerPage:10"-->
        <!--class="list-group-item">-->

        <!--AAA-->

        <!--</div>-->


        <div
          dir-paginate="saving in savings|orderBy:orderByField:reverseSort|filter:{retailer:filterBy}|itemsPerPage:9"
          class="list-group-item">


          <div class="col-lg-12 no-padding-left">

            <div class="col-lg-2 right-box">

              <div class="col-md-12 deal-votes">

                <h1 ng-bind="saving.votes"></h1>

              </div>

              <div class="col-md-12 saving-link link-button-home">

                <!--<button class="btn btn-default "><i class="glyphicon glyphicon-thumbs-up"></i> Like</button>-->

                <div class="btn-group-vertical hot-cold-buttons" role="group" aria-label="Vertical button group">

                  <button ng-hide="authentication.user" ui-sref="authentication.signup" type="button"
                          class="btn btn-danger vote-up-button"><i class="glyphicon glyphicon-arrow-up"></i> Hot
                  </button>
                  <button ng-hide="authentication.user" ui-sref="authentication.signup" type="button"
                          class="btn btn-default vote-down-button"><i class="glyphicon glyphicon-arrow-down  "></i> Cold
                  </button>

                  <button ng-show="authentication.user" ng-click="upVoteHome(saving)" type="button"
                          class="btn btn-danger vote-up-button"><i class="glyphicon glyphicon-arrow-up"></i> Hot
                  </button>
                  <button ng-show="authentication.user" ng-click="downVoteHome(saving)" type="button"
                          class="btn btn-default vote-down-button"><i class="glyphicon glyphicon-arrow-down  "></i> Cold
                  </button>

                </div>

              </div>


            </div>

            <div class="col-lg-8 middle-box">


              <div class="col-lg-12 middle-title">

                <!--<h4 href="#!/savings/{{saving._id}}" ng-bind="saving.title +' (&euro;'+  saving.price +' @ '+  saving.retailer+')'"></h4>-->
                <h4><a ng-href="/savings/{{saving._id}}"
                       ng-bind="saving.title +' (&euro;'+  saving.price +' @ '+  saving.retailer+')'"></a>
                </h4>

              </div>

              <div class="col-lg-12 single-middle-product-details-home">

                <!--<p>{{saving.details}}</p>-->
                <text-angular ta-toolbar="[[]]" ng-bind-html="saving.details"></text-angular>

              </div>

              <div class="col-lg-12 middle-post-details">

                <div class="col-lg-6 middle-posted-by">
                  <a ng-href="/users/{{user._id}}"><img ng-src="{{saving.user.profileImageURL}}"
                                                        class="small-profile-image-thumbnail"
                                                        alt="{{saving.user.displayName}}" height="20px"
                                                        width="20px"/></a> <span class="username"
                                                                                 data-ng-bind="saving.user.displayName"></span>
                  | <span data-ng-bind="saving.created | date:'mediumDate'"></span>
                </div>
                <!--<div class="col-lg-6 middle-time-of-posting">Posted On <span data-ng-bind="saving.created | date:'mediumDate'"></span></div>-->

              </div>


              <!--<small class="list-group-item-text">-->
              <!--Posted on-->
              <!--<span data-ng-bind="saving.created | date:'medium'"></span>-->
              <!--by-->
              <!--<span data-ng-bind="saving.user.displayName"></span>-->
              <!--</small>-->


            </div>

            <div class="col-lg-2" id="right-box">

              <div class="col-md-12 deal-image thumbnail thumbnail-preview centred-image">
                <a ng-href="/savings/{{saving._id}}"><img src="{{saving.image}}" width="110"
                                                          height="110"/></a>

              </div>

              <a data-ng-href="/savings/{{saving._id}}" class="col-md-12 deal-link link-button">
                <button class="btn btn-success"><i class="glyphicon glyphicon-euro"></i> Save</button>
              </a>


            </div>

          </div>


        </div>


        <!-------      END OF DEAL LIST      -------->


      </div>

      <!--Deals Array End-->


      <div class="alert alert-warning text-center" data-ng-hide="!savings.$resolved || savings.length">
        No Deals yet, why don't you <a href="/#!/savings/create">create one</a>?
      </div>

      <div class="text-center">
        <dir-pagination-controls></dir-pagination-controls>
      </div>

      <!--Deals Array End-->


    </div>

    <div class="col-lg-3 right-column">

      <div class="col-lg-12 right-column-inner-one">

        <div class="best-box">

          <ul class="nav nav-tabs img-rounded best-box-tabs">

            <li ng-click="timeFrame(1);" role="presentation" ng-class="{ 'active' : weekly}"><a href="#" > Weekly </a>
            </li>

            <li ng-click="timeFrame(2);" role="presentation " ng-class="{ 'active' : monthly}"><a href="#" > Monthly </a>
            </li>


          </ul>
          <div class="best-box-inner">

            <div ng-show="weekly" class="weekly-list">

              <div ng-repeat="saving in savings |  orderBy: '-votes' | limitTo:10| lessThan: {'created.$date':168}"
                   class=" timeframe-row">

                <div class="row timeframe-row-item">
                  <div class="col-lg-3">
                    <div class="col-lg-12 text-center timeframe-row-item-1">{{saving.votes}}</div>
                    <div class="col-lg-12 text-center timeframe-row-item-2">

                      <button ng-hide="authentication.user" ui-sref="authentication.signup" type="button"
                              class="btn btn-danger "><i class="glyphicon glyphicon-arrow-up"></i> Hot
                      </button>

                      <button ng-show="authentication.user" ng-click="upVoteHome(saving)" type="button"
                              class="btn btn-danger btn-xs "><i class="glyphicon glyphicon-arrow-up"></i> Hot
                      </button>

                    </div>
                  </div>
                  <div class="col-lg-9 text-center timeframe-row-item-3">

                    <a class="timeframe-row-item-3-text" ng-href="/savings/{{saving._id}}">{{saving.title}}(&euro;{{saving.price}}
                      @
                      {{saving.retailer}}</a>

                  </div>
                </div>

              </div>

            </div>

            <div ng-show="monthly" class="monthly-list">

              <div ng-repeat="saving in savings |  orderBy: '-votes' | limitTo:10| lessThan: {'created.$date':744}"
                   class=" timeframe-row">

                <div class="row timeframe-row-item">
                  <div class="col-lg-3">
                    <div class="col-lg-12 text-center timeframe-row-item-1">{{saving.votes}}</div>
                    <div class="col-lg-12 text-center timeframe-row-item-2">

                      <button ng-hide="authentication.user" ui-sref="authentication.signup" type="button"
                              class="btn btn-danger btn-xs"><i class="glyphicon glyphicon-arrow-up"></i> Hot
                      </button>

                      <button ng-show="authentication.user" ng-click="upVoteHome(saving)" type="button"
                              class="btn btn-danger btn-xs "><i class="glyphicon glyphicon-arrow-up"></i> Hot
                      </button>

                    </div>
                  </div>
                  <div class="col-lg-9 text-center timeframe-row-item-3">

                    <a class="timeframe-row-item-3-text" ng-href="/savings/{{saving._id}}">{{saving.title}}(&euro;{{saving.price}}
                      @
                      {{saving.retailer}}</a>

                  </div>
                </div>

              </div>

            </div>


          </div>
        </div>


      </div>

      <!--<div class="col-lg-12 right-column-inner-two">-->


      <!--</div>-->

      <!--<div class="col-lg-12 right-column-inner-three">-->


      <!--</div>-->


    </div>


    <div class="col-lg-9 ">


    </div>


  </section>

</section>
